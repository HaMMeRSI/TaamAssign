using Newtonsoft.Json.Linq;
using System;
using System.Collections.Generic;
using System.Linq;
using System.Text;
using System.Threading.Tasks;

namespace Library
{
    public class HebCal
    {
        private static List<HebCalItem> HolidayList { get; set; }

        static HebCal()
        {
            HolidayList = new List<HebCalItem>();
            // JObject HebCalResponse = RESTReader.GET(@""http://www.hebcal.com/hebcal/?v=1&cfg=json&maj=on&min=on&mod=on&nx=off&year=now&month=x&ss=off&mf=off&c=off&geo=none&m=50&s=off&o=off"");
            JObject HebCalResponse = JObject.Parse(@"{""location"":{""geo"":""none""},""title"":""Hebcal 2018"",""date"":""2018 - 01 - 05T17: 01:41 - 00:00"",""items"":[{""date"":""2018 - 01 - 31"",""subcat"":""minor"",""hebrew"":""טו בשבט"",""link"":""http://www.hebcal.com/holidays/tu-bishvat"",""memo"":""New Year for Trees"",""category"":""holiday"",""title"":""Tu BiShvat""},{""hebrew"":""ערב פורים"",""link"":""http://www.hebcal.com/holidays/purim"",""subcat"":""major"",""date"":""2018-02-28"",""title"":""Erev Purim"",""category"":""holiday"",""memo"":""Purim is one of the most joyous and fun holidays on the Jewish calendar""},{""title"":""Purim"",""category"":""holiday"",""memo"":""Purim is one of the most joyous and fun holidays on the Jewish calendar"",""hebrew"":""פורים"",""subcat"":""major"",""link"":""http://www.hebcal.com/holidays/purim"",""date"":""2018-03-01""},{""link"":""http://www.hebcal.com/holidays/shushan-purim"",""hebrew"":""שושן פורים"",""subcat"":""minor"",""date"":""2018-03-02"",""title"":""Shushan Purim"",""category"":""holiday"",""memo"":""Purim celebrated in Jerusalem and walled cities""},{""title"":""Erev Pesach"",""memo"":""Passover, the Feast of Unleavened Bread"",""category"":""holiday"",""link"":""http://www.hebcal.com/holidays/pesach"",""hebrew"":""ערב פסח"",""date"":""2018-03-30""},{""yomtov"":true,""link"":""http://www.hebcal.com/holidays/pesach"",""subcat"":""major"",""category"":""holiday"",""title"":""Pesach I"",""date"":""2018-03-31"",""hebrew"":""פסח יום א׳"",""memo"":""Passover, the Feast of Unleavened Bread""},{""memo"":""Passover, the Feast of Unleavened Bread"",""hebrew"":""פסח יום ב׳"",""date"":""2018-04-01"",""title"":""Pesach II"",""category"":""holiday"",""link"":""http://www.hebcal.com/holidays/pesach"",""subcat"":""major"",""yomtov"":true},{""date"":""2018-04-02"",""link"":""http://www.hebcal.com/holidays/pesach"",""hebrew"":""פסח יום ג׳ (חול המועד)"",""subcat"":""major"",""memo"":""Passover, the Feast of Unleavened Bread"",""category"":""holiday"",""title"":""Pesach III (CH''M)""},{""memo"":""Passover, the Feast of Unleavened Bread"",""category"":""holiday"",""title"":""Pesach IV (CH''M)"",""date"":""2018-04-03"",""subcat"":""major"",""hebrew"":""פסח יום ד׳ (חול המועד)"",""link"":""http://www.hebcal.com/holidays/pesach""},{""link"":""http://www.hebcal.com/holidays/pesach"",""hebrew"":""פסח יום ה׳ (חול המועד)"",""subcat"":""major"",""date"":""2018-04-04"",""title"":""Pesach V (CH''M)"",""category"":""holiday"",""memo"":""Passover, the Feast of Unleavened Bread""},{""title"":""Pesach VI (CH''M)"",""memo"":""Passover, the Feast of Unleavened Bread"",""category"":""holiday"",""link"":""http://www.hebcal.com/holidays/pesach"",""hebrew"":""פסח יום ו׳ (חול המועד)"",""subcat"":""major"",""date"":""2018-04-05""},{""hebrew"":""פסח יום ז׳"",""date"":""2018-04-06"",""memo"":""Passover, the Feast of Unleavened Bread"",""subcat"":""major"",""link"":""http://www.hebcal.com/holidays/pesach"",""title"":""Pesach VII"",""category"":""holiday"",""yomtov"":true},{""yomtov"":true,""link"":""http://www.hebcal.com/holidays/pesach"",""subcat"":""major"",""title"":""Pesach VIII"",""category"":""holiday"",""hebrew"":""פסח יום ח׳"",""date"":""2018-04-07"",""memo"":""Passover, the Feast of Unleavened Bread""},{""date"":""2018-04-12"",""hebrew"":""יום השואה"",""link"":""http://www.hebcal.com/holidays/yom-hashoah"",""subcat"":""modern"",""memo"":""Holocaust Memorial Day"",""category"":""holiday"",""title"":""Yom HaShoah""},{""title"":""Yom HaZikaron"",""category"":""holiday"",""memo"":""Israeli Memorial Day"",""link"":""http://www.hebcal.com/holidays/yom-hazikaron"",""hebrew"":""יום הזכרון"",""subcat"":""modern"",""date"":""2018-04-18""},{""category"":""holiday"",""memo"":""Israeli Independence Day"",""title"":""Yom HaAtzma'ut"",""date"":""2018-04-19"",""hebrew"":""יום העצמאות"",""link"":""http://www.hebcal.com/holidays/yom-haatzmaut"",""subcat"":""modern""},{""title"":""Pesach Sheni"",""memo"":""Second Passover, one month after Passover"",""category"":""holiday"",""subcat"":""minor"",""hebrew"":""פסח שני"",""link"":""http://www.hebcal.com/holidays/pesach-sheni"",""date"":""2018-04-29""},{""hebrew"":""ל״ג בעומר"",""link"":""http://www.hebcal.com/holidays/lag-baomer"",""subcat"":""minor"",""date"":""2018-05-03"",""title"":""Lag BaOmer"",""category"":""holiday"",""memo"":""33rd day of counting the Omer""},{""title"":""Yom Yerushalayim"",""memo"":""Jerusalem Day"",""category"":""holiday"",""link"":""http://www.hebcal.com/holidays/yom-yerushalayim"",""hebrew"":""יום ירושלים"",""subcat"":""modern"",""date"":""2018-05-13""},{""date"":""2018-05-19"",""hebrew"":""ערב שבועות"",""link"":""http://www.hebcal.com/holidays/shavuot"",""memo"":""Festival of Weeks, commemorates the giving of the Torah at Mount Sinai"",""category"":""holiday"",""title"":""Erev Shavuot""},{""memo"":""Festival of Weeks, commemorates the giving of the Torah at Mount Sinai"",""date"":""2018-05-20"",""hebrew"":""שבועות יום א׳"",""category"":""holiday"",""title"":""Shavuot I"",""subcat"":""major"",""link"":""http://www.hebcal.com/holidays/shavuot"",""yomtov"":true},{""memo"":""Festival of Weeks, commemorates the giving of the Torah at Mount Sinai"",""date"":""2018-05-21"",""hebrew"":""שבועות יום ב׳"",""yomtov"":true,""category"":""holiday"",""title"":""Shavuot II"",""link"":""http://www.hebcal.com/holidays/shavuot"",""subcat"":""major""},{""memo"":""The Ninth of Av, fast commemorating the destruction of the two Temples"",""category"":""holiday"",""title"":""Erev Tish'a B'Av"",""date"":""2018-07-21"",""subcat"":""major"",""hebrew"":""ערב תשעה באב"",""link"":""http://www.hebcal.com/holidays/tisha-bav""},{""date"":""2018-07-22"",""link"":""http://www.hebcal.com/holidays/tisha-bav"",""hebrew"":""תשעה באב"",""subcat"":""major"",""memo"":""The Ninth of Av, fast commemorating the destruction of the two Temples"",""category"":""holiday"",""title"":""Tish'a B'Av""},{""memo"":""Jewish holiday of love, similar to Valentine's Day"",""category"":""holiday"",""title"":""Tu B'Av"",""date"":""2018-07-27"",""hebrew"":""טו באב"",""subcat"":""minor"",""link"":""http://www.hebcal.com/holidays/tu-bav""},{""hebrew"":""סליחות"",""link"":""http://www.hebcal.com/holidays/leil-selichot"",""subcat"":""minor"",""date"":""2018-09-01"",""title"":""Leil Selichot"",""category"":""holiday"",""memo"":""Prayers for forgiveness in preparation for the High Holidays""},{""date"":""2018-09-09"",""hebrew"":""ערב ראש השנה"",""link"":""http://www.hebcal.com/holidays/rosh-hashana"",""memo"":""The Jewish New Year"",""category"":""holiday"",""title"":""Erev Rosh Hashana""},{""hebrew"":""ראש השנה 5779"",""link"":""http://www.hebcal.com/holidays/rosh-hashana"",""date"":""2018-09-10"",""title"":""Rosh Hashana 5779"",""category"":""holiday"",""memo"":""The Jewish New Year"",""yomtov"":true},{""subcat"":""major"",""link"":""http://www.hebcal.com/holidays/rosh-hashana"",""category"":""holiday"",""title"":""Rosh Hashana II"",""yomtov"":true,""date"":""2018-09-11"",""hebrew"":""ראש השנה יום ב׳"",""memo"":""The Jewish New Year""},{""hebrew"":""ערב יום כפור"",""link"":""http://www.hebcal.com/holidays/yom-kippur"",""date"":""2018-09-18"",""title"":""Erev Yom Kippur"",""memo"":""Day of Atonement"",""category"":""holiday""},{""category"":""holiday"",""title"":""Yom Kippur"",""subcat"":""major"",""link"":""http://www.hebcal.com/holidays/yom-kippur"",""yomtov"":true,""memo"":""Day of Atonement"",""date"":""2018-09-19"",""hebrew"":""יום כפור""},{""memo"":""Feast of Tabernacles"",""category"":""holiday"",""title"":""Erev Sukkot"",""date"":""2018-09-23"",""link"":""http://www.hebcal.com/holidays/sukkot"",""hebrew"":""ערב סוכות""},{""yomtov"":true,""title"":""Sukkot I"",""category"":""holiday"",""link"":""http://www.hebcal.com/holidays/sukkot"",""subcat"":""major"",""memo"":""Feast of Tabernacles"",""hebrew"":""סוכות יום א׳"",""date"":""2018-09-24""},{""date"":""2018-09-25"",""hebrew"":""סוכות יום ב׳"",""memo"":""Feast of Tabernacles"",""yomtov"":true,""subcat"":""major"",""link"":""http://www.hebcal.com/holidays/sukkot"",""category"":""holiday"",""title"":""Sukkot II""},{""title"":""Sukkot III (CH''M)"",""memo"":""Feast of Tabernacles"",""category"":""holiday"",""hebrew"":""סוכות יום ג׳ (חול המועד)"",""subcat"":""major"",""link"":""http://www.hebcal.com/holidays/sukkot"",""date"":""2018-09-26""},{""date"":""2018-09-27"",""subcat"":""major"",""hebrew"":""סוכות יום ד׳ (חול המועד)"",""link"":""http://www.hebcal.com/holidays/sukkot"",""memo"":""Feast of Tabernacles"",""category"":""holiday"",""title"":""Sukkot IV (CH''M)""},{""date"":""2018-09-28"",""subcat"":""major"",""hebrew"":""סוכות יום ה׳ (חול המועד)"",""link"":""http://www.hebcal.com/holidays/sukkot"",""memo"":""Feast of Tabernacles"",""category"":""holiday"",""title"":""Sukkot V (CH''M)""},{""title"":""Sukkot VI (CH''M)"",""memo"":""Feast of Tabernacles"",""category"":""holiday"",""link"":""http://www.hebcal.com/holidays/sukkot"",""hebrew"":""סוכות יום ו׳ (חול המועד)"",""subcat"":""major"",""date"":""2018-09-29""},{""title"":""Sukkot VII (Hoshana Raba)"",""memo"":""Feast of Tabernacles"",""category"":""holiday"",""link"":""http://www.hebcal.com/holidays/sukkot"",""hebrew"":""סוכות יום ז׳ (הושענא רבה)"",""subcat"":""major"",""date"":""2018-09-30""},{""title"":""Shmini Atzeret"",""category"":""holiday"",""subcat"":""major"",""link"":""http://www.hebcal.com/holidays/shmini-atzeret"",""yomtov"":true,""memo"":""Eighth Day of Assembly"",""hebrew"":""שמיני עצרת"",""date"":""2018-10-01""},{""yomtov"":true,""title"":""Simchat Torah"",""category"":""holiday"",""subcat"":""major"",""link"":""http://www.hebcal.com/holidays/simchat-torah"",""memo"":""Day of Celebrating the Torah"",""hebrew"":""שמחת תורה"",""date"":""2018-10-02""},{""date"":""2018-10-16"",""hebrew"":""יום העלייה"",""subcat"":""modern"",""link"":""http://www.hebcal.com/holidays/yom-haaliyah"",""memo"":""Recognizes Aliyah, immigration to the Jewish State of Israel"",""category"":""holiday"",""title"":""Yom HaAliyah""},{""category"":""holiday"",""memo"":""Ethiopian Jewish holiday occurring 50 days after Yom Kippur"",""title"":""Sigd"",""date"":""2018-11-07"",""subcat"":""modern"",""hebrew"":""סיגד"",""link"":""http://www.hebcal.com/holidays/sigd""},{""date"":""2018-12-02"",""link"":""http://www.hebcal.com/holidays/chanukah"",""hebrew"":""חנוכה: א׳ נר"",""subcat"":""major"",""category"":""holiday"",""memo"":""The Jewish festival of rededication, also known as the Festival of Lights"",""title"":""Chanukah: 1 Candle""},{""title"":""Chanukah: 2 Candles"",""memo"":""The Jewish festival of rededication, also known as the Festival of Lights"",""category"":""holiday"",""link"":""http://www.hebcal.com/holidays/chanukah"",""hebrew"":""חנוכה: ב׳ נרות"",""subcat"":""major"",""date"":""2018-12-03""},{""link"":""http://www.hebcal.com/holidays/chanukah"",""hebrew"":""חנוכה: ג׳ נרות"",""subcat"":""major"",""date"":""2018-12-04"",""title"":""Chanukah: 3 Candles"",""memo"":""The Jewish festival of rededication, also known as the Festival of Lights"",""category"":""holiday""},{""date"":""2018-12-05"",""hebrew"":""חנוכה: ד׳ נרות"",""link"":""http://www.hebcal.com/holidays/chanukah"",""subcat"":""major"",""category"":""holiday"",""memo"":""The Jewish festival of rededication, also known as the Festival of Lights"",""title"":""Chanukah: 4 Candles""},{""title"":""Chanukah: 5 Candles"",""category"":""holiday"",""memo"":""The Jewish festival of rededication, also known as the Festival of Lights"",""hebrew"":""חנוכה: ה׳ נרות"",""subcat"":""major"",""link"":""http://www.hebcal.com/holidays/chanukah"",""date"":""2018-12-06""},{""category"":""holiday"",""memo"":""The Jewish festival of rededication, also known as the Festival of Lights"",""title"":""Chanukah: 6 Candles"",""date"":""2018-12-07"",""subcat"":""major"",""hebrew"":""חנוכה: ו׳ נרות"",""link"":""http://www.hebcal.com/holidays/chanukah""},{""hebrew"":""חנוכה: ז׳ נרות"",""subcat"":""major"",""link"":""http://www.hebcal.com/holidays/chanukah"",""date"":""2018-12-08"",""title"":""Chanukah: 7 Candles"",""category"":""holiday"",""memo"":""The Jewish festival of rededication, also known as the Festival of Lights""},{""date"":""2018-12-09"",""subcat"":""major"",""hebrew"":""חנוכה: ח׳ נרות"",""link"":""http://www.hebcal.com/holidays/chanukah"",""memo"":""The Jewish festival of rededication, also known as the Festival of Lights"",""category"":""holiday"",""title"":""Chanukah: 8 Candles""},{""link"":""http://www.hebcal.com/holidays/chanukah"",""hebrew"":""חנוכה: יום ח׳"",""subcat"":""major"",""date"":""2018-12-10"",""title"":""Chanukah: 8th Day"",""category"":""holiday"",""memo"":""The Jewish festival of rededication, also known as the Festival of Lights""}],""link"":""http://www.hebcal.com/hebcal/?v=1;maj=on;min=on;mod=on;nx=off;year=2018;month=x;ss=off;mf=off;c=off;geo=none;s=off;o=off""}");
            foreach (JObject item in (HebCalResponse["items"] as JArray))
            {
                HolidayList.Add(new HebCalItem(DateTime.Parse(item["date"].ToString()), item["title"].ToString(), item["hebrew"].ToString()));
            }
        }

        public bool IsDateHitsHoliday(DateTime date)
        {
            foreach (HebCalItem item in HolidayList)
            {
                if(date == item.Date) {
                    return true;
                }
            }

            return false;
        }
    }

    public class HebCalItem
    {
        public DateTime Date { get; set; }
        public string Title { get; set; }
        public string Hebrew { get; set; }

        public HebCalItem(DateTime Date, string Title, string Hebrew)
        {
            this.Date = Date;
            this.Title = Title;
            this.Hebrew = Hebrew;
        }
    }

}
